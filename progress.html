<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Language Buddy - Progress Report</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="./assets/css/style.css">
  <style>
    html, body {
      height: 100%;
      margin: 0;
      display: flex;
      flex-direction: column;
      font-family: 'Poppins', sans-serif;
    }

    body {
      background: linear-gradient(120deg, #cce5ff, #0B1D39, #e0f0ff);
      background-size: 300% 300%;
      animation: gradientShift 10s ease infinite;
      flex: 1 0 auto;
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    nav.navbar { flex-shrink: 0; }

    main { flex: 1 0 auto; display:flex; justify-content:center; align-items:center; padding: 120px 20px; }

    .report-card {
      background: rgba(255, 255, 255, 0.8);
      border-radius: 20px;
      box-shadow: 0 0 20px rgba(0, 123, 255, 0.2);
      backdrop-filter: blur(10px);
      max-width: 400px;
      width: 100%;
      padding: 30px;
      text-align: center;
      transition: 0.3s;
    }

    .report-card:hover {
      transform: scale(1.02);
      box-shadow: 0 0 30px rgba(0, 123, 255, 0.4);
    }

    .progress {
      height: 20px;
      border-radius: 10px;
      overflow: hidden;
      margin-top: 15px;
      background: rgba(0,0,0,0.1);
    }

    .progress-bar {
      background: linear-gradient(90deg, #007bff, #9c27b0);
      animation: fillProgress 2s ease;
    }

    @keyframes fillProgress {
      from { width: 0; }
      to { width: var(--progress-width); }
    }

    button {
      border-radius: 10px;
      transition: 0.3s;
    }

    button:hover {
      transform: scale(1.05);
    }

    /* FOOTER */
    footer {
      width: 100%;
      flex-shrink: 0;
    }
  </style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container">
    <a class="navbar-brand" href="#"><img src="./assets/images/logo2.svg" alt="Logo"></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link active" href="index.html">Home</a></li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="learn.html" role="button" data-bs-toggle="dropdown">Learn</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="Vocab.html">Vocabulary</a></li>
            <li><a class="dropdown-item" href="Phrrases.html">Phrases</a></li>
          </ul>
        </li>
        <li class="nav-item"><a class="nav-link" href="quiz.html">Quiz</a></li>
        <li class="nav-item"><a class="nav-link" href="progress.html">Progress</a></li>
        <li class="nav-item"><a class="nav-link" href="aboutUs.html">About</a></li>
        <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
      </ul>
    </div>
  </div>
</nav>

<main>
  <div class="report-card shadow-lg">
    <h3 class="mb-3">ðŸ“Š Your Progress Report</h3>
    <p><strong>Total Quizzes:</strong> <span id="total">0</span></p>
    <p><strong>Average Score:</strong> <span id="avg">0</span>%</p>
    <div class="progress mb-3">
      <div class="progress-bar" id="progress-bar" role="progressbar" style="--progress-width: 0%; width: 0%;"></div>
    </div>
    <p><strong>Best Score:</strong> <span id="best">0</span>/10</p>
    <p><strong>Last Attempt:</strong> <span id="last">â€”</span></p>

    <div class="d-flex justify-content-around mt-4">
      <button class="btn btn-primary" onclick="goBack()">ðŸ”™ Back to Quiz</button>
      <button class="btn btn-outline-danger" onclick="clearReport()">ðŸ§¹ Clear Data</button>
    </div>
  </div>
</main>

<footer class="text-center text-lg-start" style="background-color:#0b1d39; color:#fff;">
  <div class="container py-4">
    <div class="mb-3">
      <img src="./assets/images/logo2.svg" alt="AI Learn Logo" style="height:40px;">
      <p class="mt-2" style="color:#cfd8dc;">Smart Learning, Made Simple â€” your AI-powered buddy for English learning.</p>
    </div>
    <div class="row justify-content-center">
      <div class="col-md-2 col-6 mb-2">
        <h6 class="fw-bold text-uppercase mb-2" style="color:#73C1E7;">Explore</h6>
        <ul class="list-unstyled">
          <li><a href="index.html" class="footer-link">Home</a></li>
          <li><a href="learn.html" class="footer-link">Learn</a></li>
          <li><a href="quiz.html" class="footer-link">Quiz</a></li>
          <li><a href="progress.html" class="footer-link">Progress</a></li>
        </ul>
      </div>
      <div class="col-md-2 col-6 mb-2">
        <h6 class="fw-bold text-uppercase mb-2" style="color:#73C1E7;">Company</h6>
        <ul class="list-unstyled">
          <li><a href="aboutUs.html" class="footer-link">About</a></li>
          <li><a href="contact.html" class="footer-link">Contact</a></li>
          <li><a href="sitemap.html" class="footer-link">Sitemap</a></li>
        </ul>
      </div>
    </div>
    <hr style="border-color:#73C1E7; opacity:0.2;">
    <div class="text-center small" style="color:#cfd8dc;">
      &copy; 2025 <strong>AI Language Buddy</strong> | All Rights Reserved
    </div>
  </div>
</footer>

<script>
const data = JSON.parse(localStorage.getItem("quizReport")) || [];

document.getElementById("total").textContent = data.length;
const avg = data.reduce((a, b) => a + b.score, 0) / data.length || 0;
const best = data.length ? Math.max(...data.map(q => q.score)) : 0;
const last = data.length ? data[data.length - 1].date : "â€”";

document.getElementById("avg").textContent = avg.toFixed(1);
document.getElementById("best").textContent = best;
document.getElementById("last").textContent = last;

const progressBar = document.getElementById("progress-bar");
progressBar.style.width = avg + "%";
progressBar.style.setProperty('--progress-width', avg + "%");

function goBack() {
  window.location.href = "quiz.html";
}

function clearReport() {
  localStorage.removeItem("quizReport");
  alert("Progress data cleared!");
  location.reload();
}
</script>

</body>
</html>
